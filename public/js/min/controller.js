"use strict";function Controller(){this.container=document.querySelector(".js--controller"),this.points=[],this.velocity={x:0,y:0,acceleration:0};var t=this;this.canvas=document.createElement("canvas"),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.context=this.canvas.getContext("2d"),this.container.appendChild(this.canvas),this.canvas.addEventListener("mousemove",function(i){t.positionHandler(i,t)},!1),this.canvas.addEventListener("touchstart",function(i){t.positionHandler(i,t)},!1),this.canvas.addEventListener("touchmove",function(i){t.positionHandler(i,t)},!1)}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},Controller.prototype.positionHandler=function(t,i){t.clientX&&t.clientY?i.points[0]=t:t.targetTouches&&(i.points=t.targetTouches,t.preventDefault())},Controller.prototype.loop=function(){var t=this;this.canvas.height!=window.innerHeight&&(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight),this.context.clearRect(0,0,this.canvas.width,this.canvas.height);var i={radius:75,gutter:24,x:function(){return this.radius+this.gutter},y:function(){return window.innerHeight-this.radius-this.gutter}};this.context.strokeStyle="#eee",this.context.lineWidth="10",this.context.beginPath(),this.context.arc(i.x(),i.y(),i.radius,0,2*Math.PI,!0),this.context.stroke();var n={radius:35,x:i.x(),y:i.y()};eachNode(this.points,function(e){var o=Math.pow(i.radius,2),s=Math.pow(i.x()-e.clientX,2)+Math.pow(i.y()-e.clientY,2);o>s&&(i.x()>e.clientX?t.velocity.x=-1:i.x()<e.clientX&&(t.velocity.x=1),i.y()>e.clientY?t.velocity.y=1:i.y()<e.clientY&&(t.velocity.y=-1),t.velocity.acceleration=100*s/o,n.x=e.clientX,n.y=e.clientY)}),this.context.beginPath(),this.context.arc(n.x,n.y,n.radius,0,2*Math.PI,!0),this.context.fill()};var Controller=new Controller;!function t(){requestAnimFrame(t),Controller.loop()}();