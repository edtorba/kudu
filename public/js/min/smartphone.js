window.onload=function(){"use strict";var e=new GameState(".js--state");e.switchto("enter-code");{var t=new Mowin;new Fullscreen(".js--fullscreen")}socket.on("ownerLeft",function(o){e.switchto("enter-code"),t.setText(o.error),t.toggle()}),socket.on("disconnect",function(){e.switchto("enter-code"),t.setText("The game connection has been lost."),t.toggle()});var o=document.querySelector(".js--enter-code--join"),n=document.querySelector(".js--enter-code--code");o.onclick=function(e){e.preventDefault(),isEmpty(n.value)||socket.emit("joinRoom",n.value)},socket.on("joinRoomStatus",function(o){o.status?(e.switchto("waiting-for-players"),n.value=""):(t.setText(o.error),t.toggle())}),socket.on("switchToSelectVehicle",function(t){t.status&&e.switchto("select-vehicle")})};