window.onload=function(){"use strict";var e=new GameState(".js--state");e.switchto("enter-code");{var t=new Yell;new Fullscreen(".js--fullscreen")}socket.on("ownerLeft",function(o){e.switchto("enter-code"),t.setText(o.error),t.negative(),t.show()}),socket.on("disconnect",function(){e.switchto("enter-code"),t.setText("The game connection has been lost."),t.negative(),t.show()});var o=document.querySelector(".js--enter-code--join"),c=document.querySelector(".js--enter-code--code");o.onclick=function(e){e.preventDefault(),isEmpty(c.value)?(t.setText("Bad code"),t.negative(),t.show()):socket.emit("joinRoom",c.value)},socket.on("joinRoomStatus",function(o){o.status?(e.switchto("waiting-for-players"),c.value=""):(t.setText(o.error),t.negative(),t.show())}),socket.on("switchToSelectVehicle",function(t){if(t.status){var o=document.querySelectorAll(".js--select-vehicle"),c=0;for(var n in t.cars)o[c].querySelector(".js--select-vehicle--name").innerHTML=t.cars[n].name,o[c].querySelector(".js--select-vehicle--armor").innerHTML=t.cars[n].armor,o[c].querySelector(".js--select-vehicle--speed").innerHTML=t.cars[n].speed,o[c].querySelector(".js--select-vehicle--power").innerHTML=t.cars[n].power,c++;e.switchto("select-vehicle")}})};